body {
    font-family: Arial, sans-serif;
    margin: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

#image-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
    justify-content: center;
}

.image-item {
    position: relative;
    border: 1px solid #ccc;
    padding: 5px;
    cursor: move;
}

.image-item img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    display: block;
}

.remove-btn {
    position: absolute;
    top: -5px;
    right: -5px;
    background: red;
    color: white;
    border: none;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    cursor: pointer;
    font-size: 12px;
}

.add-item {
    width: 100px;
    height: 100px;
    border: 2px dashed #ccc;
    background: #f9f9f9;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.add-item:hover {
    background: #e9e9e9;
}

.add-item svg {
    width: 32px;
    height: 32px;
    fill: #666;
}

#controls {
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    justify-content: center;
}

.control-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.control-group label {
    margin: 0;
    font-weight: bold;
}

.input-group {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.2rem;
}

.control-group select,
.control-group input {
    padding: 0.2rem 0.4rem;
    font-size: 0.9rem;
}

.control-group input[type="number"] {
    width: 50px;
    padding: 0.3rem 0.4rem;
    font-size: 0.9rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    background: #fff;
    transition: border-color 0.2s, box-shadow 0.2s;
}

.control-group input[type="number"]:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 4px rgba(0, 123, 255, 0.3);
}

.color-picker {
    width: 40px;
    height: 40px;
    border: 2px solid #ccc;
    border-radius: 6px;
    cursor: pointer;
    background: #ffffff; /* initial */
    transition: border-color 0.2s, box-shadow 0.2s;
    position: relative;
}

.color-picker:hover {
    border-color: #999;
}

.color-picker:active {
    box-shadow: 0 0 6px rgba(0, 0, 0, 0.2);
}

.color-picker.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.color-picker.dark-bg::after {
    filter: invert(1);
}

/* Palette icon overlay */
.color-picker::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M576 320C576 320.9 576 321.8 576 322.7C575.6 359.2 542.4 384 505.9 384L408 384C381.5 384 360 405.5 360 432C360 435.4 360.4 438.7 361 441.9C363.1 452.1 367.5 461.9 371.8 471.8C377.9 485.6 383.9 499.3 383.9 513.8C383.9 545.6 362.3 574.5 330.5 575.8C327 575.9 323.5 576 319.9 576C178.5 576 63.9 461.4 63.9 320C63.9 178.6 178.6 64 320 64C461.4 64 576 178.6 576 320zM192 352C192 334.3 177.7 320 160 320C142.3 320 128 334.3 128 352C128 369.7 142.3 384 160 384C177.7 384 192 369.7 192 352zM192 256C209.7 256 224 241.7 224 224C224 206.3 209.7 192 192 192C174.3 192 160 206.3 160 224C160 241.7 174.3 256 192 256zM352 160C352 142.3 337.7 128 320 128C302.3 128 288 142.3 288 160C288 177.7 302.3 192 320 192C337.7 192 352 177.7 352 160zM448 256C465.7 256 480 241.7 480 224C480 206.3 465.7 192 448 192C430.3 192 416 206.3 416 224C416 241.7 430.3 256 448 256z"/></svg>');
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 0.7;
}

.layout-buttons {
    display: flex;
    gap: 0.5rem;
}

.layout-btn {
    background: none;
    border: 1px solid #ccc;
    padding: 0.5rem;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.layout-btn:hover {
    background-color: #f0f0f0;
}

.layout-btn.active {
    background-color: #ddd;
    border-color: #999;
}

.layout-btn svg {
    width: 24px;
    height: 24px;
    display: block;
}

.transparent-btn {
    background: none;
    border: 1px solid #ccc;
    padding: 0.5rem;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.transparent-btn:hover {
    background-color: #f0f0f0;
}

.transparent-btn.active {
    background-color: #ddd;
    border-color: #999;
}

.transparent-btn svg {
    width: 20px;
    height: 20px;
    display: block;
    fill: currentColor;
}

.scaling-buttons {
    display: flex;
    gap: 0.5rem;
}

.scaling-btn {
    background: none;
    border: 1px solid #ccc;
    padding: 0.5rem;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.scaling-btn:hover {
    background-color: #f0f0f0;
}

.scaling-btn.active {
    background-color: #ddd;
    border-color: #999;
}

.scaling-btn svg {
    width: 24px;
    height: 24px;
    display: block;
}



fieldset {
    border: 1px solid #ccc;
    padding: 10px;
}

#grid-controls, #letterbox-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

#no-images-message {
    text-align: center;
    color: #666;
    font-style: italic;
    margin: 20px auto;
    padding: 20px;
    background: #f9f9f9;
    border: 1px dashed #ccc;
    max-width: 400px;
}

#preview {
    max-width: 90vw;
    max-height: 70vh;
    border: 1px solid #000;
    display: block;
    margin: 20px auto 0;
    object-fit: contain;
    cursor: pointer;
}
